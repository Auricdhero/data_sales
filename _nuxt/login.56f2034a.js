import{k as x,l as v,m as h,p as _,q as w,f as C,r as m,s as S,h as U,i as A,w as B,b as i,t as s,v as L,x as f,y as k,u as n,z as y,o as d,j as z}from"./entry.eaf08b88.js";const E=()=>{var r;const l=x(),t=v(),o=t.value?`Bearer ${t.value}`:void 0,{supabase:{url:a,key:c,client:g}}=h().public,b=o?_(g,{global:{headers:{Authorization:o}}}):g,p=((r=l._supabaseClient)==null?void 0:r.headers.Authorization)!==o;return(!l._supabaseClient||p)&&(l._supabaseClient=w(a,c,b)),l._supabaseClient},M={class:"mt-16 pt-16 container mx-auto",style:{height:"35em"}},R={class:"grid grid-x-1 grid-y-1 mt-16"},T={class:"mb-6"},V=s("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-dark"},"Email",-1),$={class:"mb-6"},I=s("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-dark"},"Password",-1),N={type:"submit",class:"my-8 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},P={key:0},j={key:1},q={key:0},D={key:1},O=C({__name:"login",setup(l){const t=m(""),o=m(""),a=m(!1),c=E();S();const g=async()=>{console.log("Signing Up");const{data:r,error:e}=await c.auth.signUp({email:t.value,password:o.value});console.log("user",r),console.log("error",e)},b=async()=>{console.log("Logging In");const{data:r,error:e}=await c.auth.signInWithPassword({email:t.value,password:o.value});console.log("user",r),console.log("error",e)},p=U();return A(()=>{B(()=>{p.value&&z("/")})}),(r,e)=>(d(),i("div",null,[s("div",M,[s("div",R,[s("form",{onSubmit:e[2]||(e[2]=L(u=>n(a)?g:b,["prevent"]))},[s("div",T,[V,f(s("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=u=>y(t)?t.value=u:null),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[k,n(t)]])]),s("div",$,[I,f(s("input",{"onUpdate:modelValue":e[1]||(e[1]=u=>y(o)?o.value=u:null),type:"password",id:"password",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[k,n(o)]])]),s("button",N,[n(a)?(d(),i("span",P,"Sign up")):(d(),i("span",j,"Login"))])],32),s("button",{onClick:e[3]||(e[3]=u=>a.value=!n(a)),class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 mx-auto py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},[n(a)?(d(),i("span",q,"Have an account? Log in instead")):(d(),i("span",D,"Create a new account"))])])])]))}});export{O as default};
